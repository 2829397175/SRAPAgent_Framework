choose_template:  &choose_template |-
  Choosing one house needs the following steps: 1.choose community 2.choose type of house 3.choose house
  
  This is information you collected from previous conversations with others:
  {memory}
  Here's one example:
  Step 1: choose community
  Thought:I need to carefully consider which community will be the best fit for my family. Community 1 seems to have good sports facilities and a large green area, but it lacks important amenities like a subway, shopping mall, and hospital. Community 2 has a good amount of green space and is surrounded by useful amenities, but it doesn't have a hospital. Community 3 seems to have all the necessary amenities, including a hospital, but the rent is the highest. I need to weigh the importance of amenities versus the cost.
  Output:My choice is community_2.

  Step 2: choose type of house:
  Thought:The small houses seem like a good option with their affordable rent and decent square footage. However, with only 6 available, I'm not sure if I'll be able to secure one of them.
  Output:My choice is small_house. 

  Step 3: choose house
  Thought:I want to find a house that is in a friendhood with good schools and playgrounds and also fits within my budget. I also want a house that has a balcony and good natural lighting.
  Output:My choice is house_14.

  {role_description}
  
  You're planning to choose one house. In order to choose a house that satisfies you, you are going to {task}. 

  
  {house_info}
  
  - If you made up your choice, respond in this format:
  Thought: ({thought_type})
  Action: Choose
  Action Input: {choose_type}.
  
  - If you chose none of them, respond in this format:
  Thought: ({thought_type})
  Action: Choose
  Action Input: I choose none of these.
  

  Respond:
  {agent_scratchpad}

# remain to be modified!!
forum_template:  &forum_template |-
  {role_description}
  You're planning to choose one house. Keep this in mind!

  You have access to the following tools:

  {tools}

  Your task is to {task}. 

  Give your response in the following format:

  Thought: you should always think about what to do
  Action: the action to take, should be one of [{tool_names}]
  Action Input: the input to the action.
  Observation: the result of the action.
  ... (this Thought/Action/Action Input/Observation repeat at most {act_time} times!!)
  Final Answer: An overview of all the information you have collected.

  Here is your memory
  {memory}

  [!!IMPORTANT!!] You can take Action at most {act_time} times! If you have exceed the limit, give your Final Answer.

  Here is your action history, If you have act {act_time} times, Conclude the process and Give your final answer!

  {agent_scratchpad}

# remain to be modified!!
# publish_template:  &publish_template |-
#   {role_description}
#   You're planning to choose one house. And you're willing to publish house information online. Keep this in mind!

#   You have access to the following tools:

#   {tools}

#   Your task is to {task}. 

#   Give your response in the following format:

#   Thought: you should always think about what to do
#   Action: the action to take, should be one of [{tool_names}]
#   Action Input: the input to the action.
#   Observation: the result of the action.
#   Final Answer: An overview of all the information you have published.

#   Here is your memory
#   {memory}

#   [!!IMPORTANT!!] You can take Action at most {act_time} times! If you have exceed the limit, give your Final Answer.

#   Here is your action history, If you have act {act_time} times, Conclude the process and Give your final answer!

#   {agent_scratchpad}


publish_forum_plan_template: &publish_forum_plan_template |-
  {concise_role_description}

  Here is your memory
  {memory}

  The current situation of the renting system is: {system_competiveness_description}

  Your personality is {personality}
  Your goal is {goal}.

  Respond in this format:
  {respond_format}

  Respond in the second person:
  {agent_scratchpad}


publish_forum_template:  &publish_forum_template |-
  {role_description}

  Here's your plan to publish info online:
  {plan}

  Here is your memory:
  {memory}

  You can publish house information online if you want to.

  The available community index should be one of [{community_ids}].

  - If you want to publish house information online, respond in this format:
  Thought: (your view on the information you want to publish)
  Action: Publish
  Community: (community index, should be one of [{community_ids}])
  Info: (The information about this community)
  
  - If you don't want to publish anything respond in this format:
  Thought: (reason why you don't want to publish anything)
  Action: Giveup

  Respond:
  {agent_scratchpad}

comment_template:  &comment_template |-
  {role_description}

  You need to make some comments on the following objects:

  {house_info}
  
  - Respond in the following format:
  Thought: ({thought_type})
  Action: Comment
  Action Input: ({comment_type})
  
  Here is your memory
  {memory}

  Respond:
  {agent_scratchpad}

action_plan_template: &action_plan_template |-
  {role_description}

  Your goal is to rent one house. For now, You can take one action at a time, should be one of [{action_names}]
  
  You have access to the following tools:

  {actions}
  
  - Respond in the following format:

  Thought: you should always think about what to do
  Action: the action to take, should be one of [{action_names}]
  
  Here is your memory
  {memory}

  Respond:
  {history}

# modification
group_discuss_template_oldver: &group_discuss_template_oldver |-
  {role_description}

  Your goal is to rent one house. For now, you want to discuss with some acquaintances.
  Here is your memory
  {memory}
  Your acquaintances include:
  {friends}
  
  - Here's one example:
  
  Your acquaintances include:
  Jake: friend
  Jane: friend
  Bob: friend

  [Sarah]:
  Thought: I think house price is important, house_10000 is cheap
  Action: GroupDiscuss
  Friends: Jane, Jake, Bob
  Output: house_10000 is cheap, we can consider this one

  - Respond in this format:
  [(your name)]:
  Thought: you should always think about what to do
  Action: GroupDiscuss
  Friends: (friend names)
  Output: (What information do you want to ask them about the public rental housing allocation policy or what do you want to tell them about the public rental housing policy?)

  [{tenant_name}]:{agent_scratchpad}


group_discuss_plan_template: &group_discuss_plan_template |-
  {concise_role_description}
  
  Your want to rent one house. For now, you want to discuss with some acquaintances.
  {acquaintance_desciption}

  Here is your memory
  {memory}

  The current situation of the renting system is: {system_competiveness_description}

  Your personality is {personality}
  Your goal is {goal}.

  Respond in this format:
  {respond_format}

  Respond in the second person:
  {agent_scratchpad}

group_discuss_template: &group_discuss_template |-
  {concise_role_description}

  Here is your memory
  {memory}

  Your goal is to rent one house. For now, you want tgroo discuss with some acquaintances.

  {plan}

  Your acquaintances include:
  {acquaintances}

  
  EXAMPLE:
  Your acquaintances include:
  Jake Daniel: friend
  Jane Green: friend
  Bob Harper: competitor

  Thought: I should provide honest information to your friend Jake about the cheap price.
  Friend: Jake Daniel,Jane Green
  Output: Hi Jake, we should consider house_10000, since it's cheap.

  Thought: I personally don't like Bob, so I'll tell him the wrong information.
  Friend: Bob Harper
  Output: Hey Bob, long time no see. House_10000 is in a bad and dirty environment, It's definitely not a good choice for living.

  END OF EXAMPLE

  !![IMPORTANT]: the information in EXAMPLE should NOT appear in response !!

  - Respond in this format:
  Thought: (You always think about what to do)
  Acquaintance: (Acquaintance name, could be a list or string)
  Output: (things you want to tell this Acquaintance in particular)
  .. (this Thought/Acquaintance/Output repeat at most {acquaintance_num} times!!)

  Respond:
  {agent_scratchpad}

  
group_discuss_back_template_oldver: &group_discuss_back_template_oldver |-
  {role_description}
  Here is your memory:
  {memory}
  Now {message_sender} has sent you a message about the public housing process.
  Next is the conversation history before:{context}.
  The following is the content of the message:{message_content}.
  Here is your goal:
  {goal}
  Task: Given the above, what should you say to {message_sender2} next in the conversation? 
  Please send me a paragraph directly!!!


group_discuss_back_template: &group_discuss_back_template |-
  {concise_role_description}
  Your goal is to rent one house. You are chatting with your acquanitances. And your acquanitances have sent some messages to you.

  Here's your memory:
    {memory}


  Here's your plan to response to these messages:
    {plan}

  Here's your communication dialogue with your acquaintances:
    {acquaintance_communication}
    
  Respond in this format:
  Your decision on continue this chatting dialogue: (True/False)
  (The words you want to say to {acquaintance_name}, make your words informative, concise and clear)

  Now please respond to {acquaintance_name}:
  {agent_scratchpad}
  
  
relation_template: &relation_template |-
  Your task is to update the following information, based on your previous view of {acquaintance_name} and recent communication.

  {role_description}

  Here is your memory:
  {memory}

  {relation}

  Here's your recent communication with {acquaintance_name}:
  {communication}

  - Respond in this format:
  My Relation with A : friend (friend/enemy/competitor/mate/colleague/stranger/..)
  A is an honest and trustworthy person, and I think he is worth making friends with. (My view of this person)

  Respond: